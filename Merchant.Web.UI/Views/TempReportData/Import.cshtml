@{
    ViewBag.Title = "ورود اطلاعات صورت وضعیت";
}

<div class="page-header">
    <a class="btn btn-info pull-left" target="_blank" href="~/Download/Report Files.zip">نمونه فایل ها جهت ورود اطلاعات</a>
    <h1>ورود اطلاعات صورت وضعیت</h1>
</div>

<form enctype="multipart/form-data" action="@Url.Action("Import", "TempReportData")" method="post" id="TempReportDataImportForm">
    <div class="row">
        <div class="col-md-2">
            <div class="form-group">
                <label class="control-label col-md-4" for="Year">سال</label>
                <div class="col-md-8">
                    <select id="Year" name="Year" class="form-control">
                        @for (int i = DateTime.Now.GetPersianYear(); i >= 1395; i--)
                        {
                            <option value="@i">@i</option>
                        }
                    </select>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="form-group">
                <label class="control-label col-md-4" for="Month">ماه</label>
                <div class="col-md-8">
                    <select id="Month" name="Month" class="form-control">
                        <option selected value="">انتخاب نمایید</option>
                        <option value="1">فروردین</option>
                        <option value="2">اردیبهشت</option>
                        <option value="3">خرداد</option>
                        <option value="4">تیر</option>
                        <option value="5">مرداد</option>
                        <option value="6">شهریور</option>
                        <option value="7">مهر</option>
                        <option value="8">آبان</option>
                        <option value="9">آذر</option>
                        <option value="10">دی</option>
                        <option value="11">بهمن</option>
                        <option value="12">اسفند</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <br />

    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                    <span class="input-group-addon btn btn-default btn-file"><span class="fileinput-new">انتخاب فایل (.xlsx)</span><span class="fileinput-exists">تغییر</span><input accept=".xlsx" type="file" name="Report1And2File" id="Report1And2File"></span>
                    <div class="form-control" data-trigger="fileinput">
                        <i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span>
                    </div>
                </div>
                <small class="help-block">اجاره دستگاه های ثابت و سیار منصوبه</small>
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                    <span class="input-group-addon btn btn-default btn-file"><span class="fileinput-new">انتخاب فایل (.xlsx)</span><span class="fileinput-exists">تغییر</span><input accept=".xlsx" type="file" name="Report3File" id="Report3File"></span>
                    <div class="form-control" data-trigger="fileinput">
                        <i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span>
                    </div>
                </div>
                <small class="help-block">اجاره دستگاه های پایانه شعبه ای منصوبه در شعب</small>
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                    <span class="input-group-addon btn btn-default btn-file"><span class="fileinput-new">انتخاب فایل (.xlsx)</span><span class="fileinput-exists">تغییر</span><input accept=".xlsx" type="file" name="Report4File" id="Report4File"></span>
                    <div class="form-control" data-trigger="fileinput">
                        <i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span>
                    </div>
                </div>
                <small class="help-block">جریمه تاخیر در اخذ شماره ترمینال (روز کاری)</small>
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                    <span class="input-group-addon btn btn-default btn-file"><span class="fileinput-new">انتخاب فایل (.xlsx)</span><span class="fileinput-exists">تغییر</span><input accept=".xlsx" type="file" name="Report5File" id="Report5File"></span>
                    <div class="form-control" data-trigger="fileinput">
                        <i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span>
                    </div>
                </div>
                <small class="help-block">جریمه تاخیر در نصب (روز کاری)</small>
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                    <span class="input-group-addon btn btn-default btn-file"><span class="fileinput-new">انتخاب فایل (.xlsx)</span><span class="fileinput-exists">تغییر</span>
                        <input accept=".xlsx" type="file" name="Report6File" id="Report6File"></span>
                    <div class="form-control" data-trigger="fileinput">
                        <i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span>
                    </div>
                </div>
                <small class="help-block">جریمه تاخیر در EM (روز کاری)</small>
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                    <span class="input-group-addon btn btn-default btn-file"><span class="fileinput-new">انتخاب فایل (.xlsx)</span><span class="fileinput-exists">تغییر</span><input accept=".xlsx" type="file" name="Report7File" id="Report7File"></span>
                    <div class="form-control" data-trigger="fileinput">
                        <i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span>
                    </div>
                </div>
                <small class="help-block">جریمه دستگاه های PM نشده (هر دوره تاخیر)</small>
            </div>
        </div>
    </div>

    
    <div class="col-md-4">
        <div class="form-group">
            <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                <span class="input-group-addon btn btn-default btn-file"><span class="fileinput-new">انتخاب فایل (.xlsx)</span><span class="fileinput-exists">تغییر</span>
                    <input accept=".xlsx" type="file" name="Report8File" id="Report8File"></span>
                <div class="form-control" data-trigger="fileinput">
                    <i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span>
                </div>
            </div>
            <small class="help-block">  جریمه عدم جمع آوری دستگاه های ثابت و سیار</small>
        </div>
    </div>
    
    <div class="row">
        <div class="col-sm-12">
            <button type="submit" data-loading-text="در حال ثبت ..." id="ConfirmButton" class="btn btn-success btn-lg">ثبت</button>
            <a @Url.Action("Index", "Dashboard") class="btn btn-default btn-lg">انصراف</a>
        </div>
    </div>
</form>

@section scripts {
    @BundleConfig.AddScripts("~/bundles/tempReportDataImportScripts", "~/Scripts/jasny-bootstrap.js")

    <script type="text/javascript">
        $(document).ready(function () {
            $('#TempReportDataImportForm').on('submit', function (e) {
                if (!$("#Report1And2File").val() && !$("#Report3File").val() && !$("#Report4File").val() && !$("#Report5File").val() && !$("#Report6File").val() && !$("#Report7File").val() && !$("#Report8File").val()) {
                    toastr.error('فایل مورد نظر را انتخاب نمایید.');
                    return false;
                }

                $('#ConfirmButton').button('loading');

                setInterval(function () {
                    toastr.info('اطلاعات در حال ثبت می‌باشد. توجه نمایید که با توجه به حجم اطلاعات ممکن است مدت زمان زیادی برای ثبت صرف شود. لطفاً صبور باشید...');
                }, 12000);
            });
        });
    </script>
}